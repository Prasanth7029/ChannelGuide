<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comfort Suites TV Channel Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
           --primary: #0056b3;
           --primary-light: #4d8fd6;
           --secondary: #ff7e33;
           --accent: #00c3ff;
           --dark: #1a2b50;
           --light: #f8f9fa;
           --white: #ffffff;
           --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
           --transition: all 0.3s ease;
           --border-radius: 12px;
       }

       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
       }

       body {
           font-family: 'Poppins', sans-serif;
           background-color: var(--light);
           color: var(--dark);
           line-height: 1.5;
           overflow-x: hidden;
           padding-bottom: env(safe-area-inset-bottom);
       }

       /* Header styles */
       header {
           text-align: center;
           padding: 1rem 0.5rem;
           background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
           color: white;
           position: relative;
           overflow: hidden;
           box-shadow: var(--shadow);
           padding-top: max(1rem, env(safe-area-inset-top));
       }

       .hotel-logo {
           width: 80px;
           height: auto;
           margin-bottom: 0.5rem;
           filter: drop-shadow(var(--shadow));
       }

       h1 {
           font-family: 'Playfair Display', serif;
           color: var(--white);
           font-size: clamp(1.8rem, 5vw, 2.5rem);
           margin-bottom: 0.5rem;
       }

       .manager {
           font-weight: 600;
           font-size: clamp(0.9rem, 3vw, 1.1rem);
           display: flex;
           align-items: center;
           justify-content: center;
           gap: 0.5rem;
       }

       /* Main content */
       .container {
           max-width: 1200px;
           margin: 1.5rem auto;
           padding: 0 1rem;
       }

       .guide-container {
           background: var(--white);
           border-radius: var(--border-radius);
           box-shadow: var(--shadow);
           overflow: hidden;
           margin-bottom: 2rem;
       }

       .guide-header {
           background: var(--primary);
           color: white;
           padding: 1rem;
           text-align: center;
           font-size: clamp(1.2rem, 4vw, 1.5rem);
           font-weight: 600;
           display: flex;
           align-items: center;
           justify-content: center;
           gap: 0.5rem;
       }

       /* Channel Guide Table Styles */
       .channel-table {
           width: 100%;
           border-collapse: collapse;
           font-size: clamp(0.8rem, 2.5vw, 1rem);
       }

       .channel-table th {
           background-color: var(--primary-light);
           color: white;
           padding: 0.75rem 0.5rem;
           text-align: left;
           position: sticky;
           top: 0;
           z-index: 10;
       }

       .channel-table tr:nth-child(even) {
           background-color: #f2f2f2;
       }

       .channel-table tr:hover {
           background-color: #e6f0ff;
       }

       .channel-table td {
           padding: 0.75rem 0.5rem;
           border-bottom: 1px solid #ddd;
           word-wrap: break-word;
       }

       .channel-number {
           font-weight: bold;
           color: var(--primary);
           width: 60px;
           text-align: center;
       }

       .channel-name {
           font-weight: 600;
       }

       .channel-category {
           color: #666;
           font-size: 0.75rem;
       }

       /* Search and Filter */
       .search-filter {
           display: flex;
           flex-direction: column;
           margin-bottom: 1.5rem;
           gap: 1rem;
       }

       .search-box {
           width: 100%;
           position: relative;
       }

       .search-box input {
           width: 100%;
           padding: 0.75rem 1rem 0.75rem 2.5rem;
           border: 1px solid #ddd;
           border-radius: 30px;
           font-size: 1rem;
           transition: var(--transition);
       }

       .search-box input:focus {
           outline: none;
           border-color: var(--primary);
           box-shadow: 0 0 0 2px rgba(0, 86, 179, 0.2);
       }

       .search-box i {
           position: absolute;
           left: 1rem;
           top: 50%;
           transform: translateY(-50%);
           color: #777;
       }

       .category-filter {
           display: flex;
           gap: 0.5rem;
           overflow-x: auto;
           padding-bottom: 0.5rem;
           -webkit-overflow-scrolling: touch;
           scrollbar-width: none;
       }

       .category-filter::-webkit-scrollbar {
           display: none;
       }

       .category-btn {
           padding: 0.5rem 1rem;
           background: white;
           border: 1px solid #ddd;
           border-radius: 30px;
           font-size: 0.8rem;
           cursor: pointer;
           transition: var(--transition);
           white-space: nowrap;
           flex-shrink: 0;
       }

       .category-btn:hover, .category-btn.active {
           background: var(--primary);
           color: white;
           border-color: var(--primary);
       }

       /* Table container with scroll */
       .table-container {
           max-height: 60vh;
           overflow-y: auto;
           position: relative;
           -webkit-overflow-scrolling: touch;
       }

       /* Loading state */
       .loading {
           text-align: center;
           padding: 2rem;
           font-style: italic;
           color: #666;
       }

       /* Mobile channel card view */
       .channel-cards {
           display: none;
       }

       .channel-card {
           padding: 1rem;
           border-bottom: 1px solid #eee;
       }

       .channel-card-header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 0.5rem;
       }

       .channel-card-number {
           font-weight: bold;
           color: var(--primary);
           font-size: 1.2rem;
       }

       .channel-card-name {
           font-weight: 600;
           font-size: 1.1rem;
           margin-bottom: 0.25rem;
       }

       .channel-card-category {
           color: #666;
           font-size: 0.8rem;
           margin-bottom: 0.5rem;
           display: inline-block;
           padding: 0.2rem 0.6rem;
           background: #f0f0f0;
           border-radius: 12px;
       }

       /* View toggle */
       .view-toggle {
           display: flex;
           justify-content: flex-end;
           margin-bottom: 1rem;
           gap: 0.5rem;
       }

       .view-btn {
           padding: 0.5rem;
           background: white;
           border: 1px solid #ddd;
           border-radius: 8px;
           cursor: pointer;
           transition: var(--transition);
       }

       .view-btn.active {
           background: var(--primary);
           color: white;
           border-color: var(--primary);
       }

       /* Footer */
       footer {
           background: var(--dark);
           color: var(--white);
           padding: 1.5rem 1rem;
           text-align: center;
           margin-top: 2rem;
           padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
       }

       .footer-content {
           max-width: 1200px;
           margin: 0 auto;
       }

       .footer-logo {
           width: 80px;
           height: auto;
           margin-bottom: 1rem;
           opacity: 0.8;
       }

       .address {
           margin-bottom: 1rem;
           font-size: 0.9rem;
           opacity: 0.8;
       }

       .address p {
           margin-bottom: 0.5rem;
           display: flex;
           align-items: center;
           justify-content: center;
           gap: 0.5rem;
       }

       .copyright {
           font-size: 0.8rem;
           opacity: 0.6;
       }

       /* Responsive adjustments */
       @media (max-width: 768px) {
           .container {
               margin: 1rem auto;
               padding: 0 0.75rem;
           }
           
           .channel-table thead {
               display: none;
           }
           
           .channel-table tr {
               display: block;
               margin-bottom: 1rem;
               border: 1px solid #ddd;
               border-radius: 8px;
           }
           
           .channel-table td {
               display: block;
               text-align: left;
               padding: 0.75rem;
               border-bottom: 1px solid #eee;
           }
           
           .channel-table td:last-child {
               border-bottom: none;
           }
           
           .channel-table td::before {
               content: attr(data-label);
               float: left;
               font-weight: bold;
               margin-right: 0.5rem;
           }
           
           .channel-number {
               background-color: var(--primary-light);
               color: white;
               padding: 0.5rem;
               border-radius: 6px;
               width: auto;
               margin-bottom: 0.5rem;
               display: inline-block;
           }
           
           .table-container {
               max-height: none;
           }
           
           /* Show card view on mobile */
           .channel-cards {
               display: block;
           }
           
           .table-view {
               display: none;
           }
       }

       @media (max-width: 480px) {
           header {
               padding: 0.75rem;
           }
           
           .hotel-logo {
               width: 70px;
           }
           
           .guide-header {
               padding: 0.75rem;
           }
           
           .search-box input {
               padding: 0.6rem 0.75rem 0.6rem 2.25rem;
           }
           
           .search-box i {
               left: 0.75rem;
           }
           
           .category-btn {
               padding: 0.4rem 0.8rem;
               font-size: 0.75rem;
           }
           
           .channel-card {
               padding: 0.75rem;
           }
       }

       /* High contrast mode support */
       @media (prefers-contrast: high) {
           .channel-table tr:nth-child(even) {
               background-color: #e0e0e0;
           }
           
           .channel-table tr:hover {
               background-color: #c9e0ff;
           }
           
           .channel-category {
               font-weight: bold;
           }
       }

       /* Reduced motion support */
       @media (prefers-reduced-motion: reduce) {
           * {
               transition: none !important;
           }
       }
    </style>
</head>
<body>
<header>
    <img src="logo.png" alt="Comfort Suites Logo" class="hotel-logo">
    <h1>Comfort Suites</h1>
    <p class="manager"><i class="fas fa-tv"></i> TV Channel Guide</p>
</header>

<main class="container">
    <div class="view-toggle">
        <button class="view-btn active" id="cardViewBtn" aria-label="Card view">
            <i class="fas fa-th-large"></i>
        </button>
        <button class="view-btn" id="tableViewBtn" aria-label="Table view">
            <i class="fas fa-table"></i>
        </button>
    </div>

    <div class="search-filter">
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Search channels..." aria-label="Search channels">
        </div>
        <div class="category-filter" id="categoryFilter">
            <!-- Categories will be dynamically generated -->
        </div>
    </div>

    <div class="guide-container">
        <div class="guide-header">
            <i class="fas fa-tv"></i> Comfort Suites Channel Lineup
        </div>
        
        <!-- Card view for mobile -->
        <div class="channel-cards" id="channelCards">
            <div class="loading">Loading channel guide...</div>
        </div>
        
        <!-- Table view for desktop -->
        <div class="table-container table-view">
            <table class="channel-table" id="channelTable">
                <thead>
                <tr>
                    <th>Channel</th>
                    <th>Name</th>
                    <th>Category</th>
                    <th>Description</th>
                </tr>
                </thead>
                <tbody id="channelTableBody">
                <tr>
                    <td colspan="4" class="loading">Loading channel guide...</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</main>

<footer>
    <div class="footer-content">
        <img src="logo.png" alt="Comfort Suites Logo" class="footer-logo">
        <div class="address">
            <p><i class="fas fa-map-marker-alt"></i> 121 Raydo Circle, Springfield, OH, 45506, US</p>
            <p><i class="fas fa-phone"></i> (937) 322-0707</p>
        </div>
        <p class="copyright">Â© 2025 Comfort Suites Springfield, Ohio. All rights reserved.</p>
    </div>
</footer>

<script>
    // CSV data (this would normally be fetched from a file)
    const csvData = `channel,name,category,description
3,GUIDELO,Guide,Interactive channel guide for navigating TV services.
6,ABC,Entertainment,National network offering dramas, comedies, news, and reality shows.
7,ABC2,Entertainment,Secondary ABC channel with additional programming and local content.
8,CBS,Entertainment,Features dramas, sitcoms, news, and sports events.
10,FOX,Entertainment,Provides a mix of dramas, reality TV, sports, and news.
12,NBC,Entertainment,Offers popular shows, sports, and national news broadcasts.
13,NBC2,Entertainment,Secondary NBC channel with varied programming and local focus.
14,CW,Entertainment,Airs youth-oriented dramas, comedies, and reality shows.
15,CW2,Entertainment,Additional CW channel with similar programming and specials.
16,PBS,Educational,Public broadcasting with educational, cultural, and documentary programs.
17,PBS2,Educational,Secondary PBS channel with more educational content and kids' shows.
36,ION,Entertainment,Features syndicated shows, movies, and original dramas.
37,METV,Entertainment,Classic TV network with retro shows and nostalgic programming.
38,MYNET,Entertainment,Offers syndicated series, sports, and movies.
41,TELEM,International,Spanish-language network with telenovelas, news, and sports.
42,UNIMAS,International,Spanish-language channel with movies, sports, and dramas.
43,UNV,International,Spanish-language network with entertainment and news.
44,DYSTR,Entertainment,Daystar provides Christian programming and inspirational content.
45,TBN,Religious,Christian network with sermons, talk shows, and family-friendly content.
51,RSN,Sports,Regional sports network covering local teams and events.
52,RSN,Sports,Additional regional sports channel for local games and analysis.
57,GUIDED1,Guide,Additional interactive channel guide service.
58,USA,Entertainment,Features dramas, comedies, and live sports events.
59,AETV,Entertainment,Reality TV and documentaries focusing on real-life stories.
60,TNT,Entertainment,Airs dramas, movies, and major sports events.
61,TBS,Entertainment,Comedy-focused channel with sitcoms and movies.
62,AMC,Movies,Features classic and contemporary films and original series.
63,DSC,Educational,Discovery Channel offers science, nature, and adventure documentaries.
64,HISTORY,Educational,Documentaries and series on historical events and figures.
65,FX,Entertainment,Original dramas, comedies, and blockbuster movies.
66,BBCA,Entertainment,British programming including dramas, comedies, and sci-fi.
67,SYFY,Entertainment,Science fiction, fantasy, and horror series and films.
68,TRUTV,Entertainment,Reality shows and comedic programming.
69,COMEDY,Entertainment,Comedy Central airs stand-up, sketches, and sitcoms.
70,PAR,Entertainment,Paramount Network offers dramas and reality shows.
71,VH1,Music,Music videos, reality shows, and pop culture programming.
72,MTV,Music,Music videos, reality TV, and youth-oriented series.
73,TVLAND,Entertainment,Classic and modern sitcoms with a nostalgic feel.
75,HALL,Movies,Heartwarming movies and family-friendly series.
76,NGC,Educational,National Geographic features wildlife and cultural documentaries.
77,APL,Educational,Animal Planet focuses on animal-related shows and documentaries.
78,SCIENCE,Educational,Science Channel explores technology, space, and innovation.
79,AHC,Educational,American Heroes Channel covers military history and stories.
80,HGTV,Lifestyle,Home and garden renovation and design shows.
81,FOOD,Lifestyle,Food Network offers cooking shows and culinary competitions.
82,TRAV,Lifestyle,Travel Channel showcases destinations and adventure travel.
83,TLC,Lifestyle,Reality shows on family, lifestyle, and personal stories.
84,BRAVO,Entertainment,Reality TV, dramas, and lifestyle programming.
85,EI,Entertainment,E! focuses on celebrity news and pop culture shows.
86,LIFE,Movies,Lifetime airs women-centric movies and dramas.
87,OWN,Lifestyle,Oprah Winfrey Network with inspirational and lifestyle content.
88,BET,Entertainment,Black Entertainment Television offers music, series, and movies.
89,OVATION,Entertainment,Arts and culture programming with films and performances.
90,CNN,News,24/7 news covering global events and politics.
91,FNC,News,Fox News Channel provides conservative news and commentary.
92,MSNBC,News,News and analysis with a progressive perspective.
93,HLN,News,Headline News offers crime stories and news updates.
94,CNBC,News,Business and financial news and talk shows.
95,FBN,News,Fox Business Network covers markets and economic news.
96,BLOOM,News,Bloomberg Television focuses on global finance and business.
97,WEATH,News,Weather Channel provides forecasts and weather news.
98,CSPAN,News,Public affairs and government proceedings coverage.
99,DISN,Kids,Disney Channel offers family-friendly shows and movies.
100,BOOM,Kids,Boomerang airs classic and new animated series.
102,UKIDS,Kids,Universal Kids provides educational and fun kids' programming.
103,NICKJR,Kids,Nick Jr. offers preschool-friendly shows and learning content.
104,NICK,Kids,Nickelodeon features animated and live-action kids' shows.
105,TOON,Kids,Cartoon Network airs animated series and movies.
106,DFC,Kids,Disney Junior provides programming for young children.
107,CMT,Music,Country Music Television with music videos and shows.
108,GACF,Lifestyle,Great American Country focuses on country lifestyle and music.
109,ESPN,Sports,Leading sports network with live events and analysis.
110,ESPN2,Sports,Secondary ESPN channel with additional sports coverage.
111,GUIDED2,Guide,Another interactive channel guide service.
112,TNF,Sports,Thursday Night Football broadcasts NFL games.
113,SEC,Sports,SEC Network covers Southeastern Conference sports.
114,FS1,Sports,Fox Sports 1 offers live sports and commentary.
115,FS2,Sports,Fox Sports 2 provides extended sports coverage.
116,MT,Music,MTV with music videos and reality programming.
117,TCM,Movies,Turner Classic Movies airs classic films.
118,HSN,Shopping,Home Shopping Network for retail and product showcases.
119,EWTN,Religious,Global Catholic network with religious programming.
120,SHOPHQ,Shopping,Shopping channel with jewelry, electronics, and more.
121,QVC,Shopping,Retail channel offering a variety of products.
122,CNNE,International,Spanish-language CNN with global news.
123,NEWSNTN,News,NewsNation provides balanced news coverage.
124,MTV2,Music,MTV2 focuses on music videos and alternative content.
125,MTVCLAS,Music,MTV Classic airs retro music videos and shows.
126,UP,Religious,Uplifting family-friendly movies and series.
128,RFDHD,Lifestyle,Rural-focused programming on farming and country life.
129,VICE,Entertainment,Documentaries and series on culture and lifestyle.
130,FYI,Lifestyle,Reality and lifestyle shows on diverse topics.
131,DEST,Lifestyle,Destination America explores American culture and travel.
132,ID,Educational,Investigation Discovery focuses on true crime stories.
133,ACUWTHR,News,AccuWeather provides detailed weather forecasts.
134,COOK,Lifestyle,Cooking Channel offers recipes and culinary shows.
135,OXYGEN,Entertainment,True crime and women-focused reality shows.
136,WE,Entertainment,WE tv offers reality shows and dramas.
137,POP,Entertainment,Pop culture-focused shows and light entertainment.
138,GSN,Entertainment,Game Show Network with classic and new game shows.
139,LOGO,Entertainment,LGBTQ+-focused programming and movies.
140,DLC,Educational,Discovery Life covers health and real-life stories.
141,BHER,Entertainment,BET Her offers content for Black women.
142,TVONE,Entertainment,Programming focused on African American culture.
143,BBCWLD,News,BBC World News delivers global news coverage.
144,NIKTON,Kids,Nicktoons airs animated Nickelodeon series.
145,TNCK,Kids,TeenNick targets teens with shows and movies.
147,MTVLIVE,Music,MTV Live broadcasts live music performances.
148,RVLT,Entertainment,Revolt focuses on hip-hop culture and music.
149,FUSE,Music,Music videos and pop culture programming.
150,INSP,Religious,Inspirational programming with family values.
151,SUNDANC,Movies,SundanceTV airs independent films and series.
154,LMN,Movies,Lifetime Movie Network with drama and thriller films.
155,IFC,Movies,Independent Film Channel showcases indie films.
156,HMM,Movies,Hallmark Movies & Mysteries with mystery films.
157,BETSOUL,Music,Soul and R&B music videos and programming.
159,BYUTV,Religious,Family-friendly content from Brigham Young University.
161,IMPCNET,Movies,Impact Network offers faith-based and family content.
162,MAGN,Lifestyle,Magnolia Network focuses on home and lifestyle shows.
163,MTVU,Music,MTV University targets college audiences with music.
164,NEWSMX,International,Newsmax provides conservative news and talk shows.
165,BIGTEN,Sports,Big Ten Network covers college sports events.
166,ACC,Sports,ACC Network focuses on Atlantic Coast Conference sports.
174,GUIDESP,Guide,Spanish-language interactive channel guide.
175,BEIN,Sports,beIN Sports covers international soccer and sports.
177,CBSSN,Sports,CBS Sports Network with college sports and analysis.
187,ESPND,International,Spanish-language ESPN with sports coverage.
189,ESPNEWS,Sports,ESPN News provides sports updates and highlights.
190,ESPNU,Sports,ESPN U focuses on college sports and events.
191,FXDEP,Sports,Fox Deportes offers Spanish-language sports.
196,GOLF,Sports,Golf Channel covers professional golf tournaments.
197,MLBN,Sports,MLB Network with baseball games and analysis.
198,MLBNSZ,Sports,MLB Network Strike Zone for live baseball highlights.
199,NBATV,Sports,NBA TV covers basketball games and news.
200,NFLNET,Sports,NFL Network with football games and analysis.
201,NFLNRZ,Sports,NFL RedZone provides live NFL game coverage.
202,NHLNET,Sports,NHL Network covers hockey games and news.
203,COWBOY,Lifestyle,Cowboy Channel focuses on rodeo and western lifestyle.
204,OUTD,Sports,Outdoor Channel covers hunting and fishing.
211,SEC2,Sports,Secondary SEC channel for additional sports coverage.
212,TENNIS,Sports,Tennis Channel covers professional tennis events.
213,TVG,Sports,TVG focuses on horse racing and betting.
214,TUDN,International,Spanish-language sports network with soccer focus.
215,WILLOW,Sports,Willow TV covers international cricket matches.`;

    // Parse CSV data
    function parseCSV(csv) {
        const lines = csv.split('\n');
        const headers = lines[0].split(',');
        const result = [];

        for (let i = 1; i < lines.length; i++) {
            if (!lines[i]) continue;

            const obj = {};
            const currentline = lines[i].split(',');

            for (let j = 0; j < headers.length; j++) {
                obj[headers[j]] = currentline[j];
            }

            result.push(obj);
        }

        return result;
    }

    // Display channels in table
    function displayChannels(channels) {
        const tableBody = document.getElementById('channelTableBody');
        const cardsContainer = document.getElementById('channelCards');
        
        tableBody.innerHTML = '';
        cardsContainer.innerHTML = '';

        if (channels.length === 0) {
            tableBody.innerHTML = '<tr><td colspan="4">No channels found matching your criteria</td></tr>';
            cardsContainer.innerHTML = '<div class="channel-card"><div class="channel-card-name">No channels found matching your criteria</div></div>';
            return;
        }

        channels.forEach(channel => {
            // Table row
            const row = document.createElement('tr');
            row.setAttribute('data-category', channel.category.toLowerCase());

            row.innerHTML = `
                <td class="channel-number" data-label="Channel">${channel.channel}</td>
                <td class="channel-name" data-label="Name">${channel.name}</td>
                <td class="channel-category" data-label="Category">${channel.category}</td>
                <td data-label="Description">${channel.description}</td>
            `;

            tableBody.appendChild(row);
            
            // Card element
            const card = document.createElement('div');
            card.className = 'channel-card';
            card.setAttribute('data-category', channel.category.toLowerCase());
            
            card.innerHTML = `
                <div class="channel-card-header">
                    <span class="channel-card-number">${channel.channel}</span>
                    <span class="channel-card-category">${channel.category}</span>
                </div>
                <div class="channel-card-name">${channel.name}</div>
                <div>${channel.description}</div>
            `;
            
            cardsContainer.appendChild(card);
        });
    }

    // Generate category filters
    function generateCategoryFilters(channels) {
        const categories = new Set();
        const filterContainer = document.getElementById('categoryFilter');

        // Extract all unique categories
        channels.forEach(channel => {
            categories.add(channel.category);
        });

        // Create "All" button
        const allButton = document.createElement('button');
        allButton.className = 'category-btn active';
        allButton.textContent = 'All';
        allButton.onclick = () => filterChannels('all');
        filterContainer.appendChild(allButton);

        // Create buttons for each category
        categories.forEach(category => {
            const button = document.createElement('button');
            button.className = 'category-btn';
            button.textContent = category;
            button.onclick = () => filterChannels(category.toLowerCase());
            filterContainer.appendChild(button);
        });
    }

    // Search functionality
    function searchChannels() {
        const input = document.getElementById('searchInput');
        const filter = input.value.toUpperCase();
        
        // Filter table rows
        const tableRows = document.querySelectorAll('#channelTable tbody tr');
        tableRows.forEach(row => {
            let found = false;
            const tds = row.getElementsByTagName('td');
            
            for (let j = 0; j < tds.length; j++) {
                const td = tds[j];
                if (td) {
                    const txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().includes(filter)) {
                        found = true;
                        break;
                    }
                }
            }
            
            row.style.display = found ? '' : 'none';
        });
        
        // Filter cards
        const cards = document.querySelectorAll('.channel-card');
        cards.forEach(card => {
            let found = false;
            const textContent = card.textContent || card.innerText;
            
            if (textContent.toUpperCase().includes(filter)) {
                found = true;
            }
            
            card.style.display = found ? '' : 'none';
        });
    }

    // Filter by category
    function filterChannels(category) {
        const tableRows = document.querySelectorAll('#channelTable tbody tr');
        const cards = document.querySelectorAll('.channel-card');
        const buttons = document.querySelectorAll('.category-btn');

        // Update active button
        buttons.forEach(btn => {
            btn.classList.remove('active');
            if (btn.textContent.toLowerCase() === category ||
               (btn.textContent === 'All' && category === 'all')) {
                btn.classList.add('active');
            }
        });

        // Filter table rows and cards
        tableRows.forEach(row => {
            if (category === 'all') {
                row.style.display = '';
            } else {
                row.style.display = row.dataset.category === category ? '' : 'none';
            }
        });
        
        cards.forEach(card => {
            if (category === 'all') {
                card.style.display = '';
            } else {
                card.style.display = card.dataset.category === category ? '' : 'none';
            }
        });
    }

    // Toggle between card and table view
    function setupViewToggle() {
        const cardViewBtn = document.getElementById('cardViewBtn');
        const tableViewBtn = document.getElementById('tableViewBtn');
        const cardsContainer = document.getElementById('channelCards');
        const tableContainer = document.querySelector('.table-container');
        
        cardViewBtn.addEventListener('click', () => {
            cardViewBtn.classList.add('active');
            tableViewBtn.classList.remove('active');
            cardsContainer.style.display = 'block';
            tableContainer.style.display = 'none';
        });
        
        tableViewBtn.addEventListener('click', () => {
            tableViewBtn.classList.add('active');
            cardViewBtn.classList.remove('active');
            tableContainer.style.display = 'block';
            cardsContainer.style.display = 'none';
        });
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
        // Parse the CSV data
        const channels = parseCSV(csvData);

        // Display channels and generate filters
        displayChannels(channels);
        generateCategoryFilters(channels);
        setupViewToggle();
        
        // Setup search functionality with debounce
        let searchTimeout;
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', () => {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(searchChannels, 300);
        });

        // If you were loading from an actual CSV file, you would use:
        /*
        fetch('Comfort_Suites_TV_Channel_Guide_Structured.csv')
            .then(response => response.text())
            .then(csv => {
                const channels = parseCSV(csv);
                displayChannels(channels);
                generateCategoryFilters(channels);
                setupViewToggle();
            })
            .catch(error => {
                console.error('Error loading CSV:', error);
                document.getElementById('channelTableBody').innerHTML =
                    '<tr><td colspan="4">Error loading channel guide. Please try again later.</td></tr>';
                document.getElementById('channelCards').innerHTML =
                    '<div class="channel-card"><div class="channel-card-name">Error loading channel guide. Please try again later.</div></div>';
            });
        */
    });
</script>
</body>
</html>
