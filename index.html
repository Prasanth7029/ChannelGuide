<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#1a365d" />
  <title>Comfort Suites TV Channel Guide</title>

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />

  <style>
    :root {
      --primary: #1a365d;
      --primary-light: #2a4a7f;
      --secondary: #f6ad55;
      --accent: #4299e1;
      --dark: #2d3748;
      --light: #f7fafc;
      --white: #ffffff;
      --gray-100: #f7fafc;
      --gray-200: #edf2f7;
      --gray-300: #e2e8f0;
      --gray-400: #cbd5e0;
      --gray-500: #a0aec0;
      --gray-600: #718096;
      --gray-700: #4a5568;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --radius: 12px;
      --transition: all 0.2s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--gray-100);
      color: var(--dark);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-tap-highlight-color: transparent;
    }

    /* Header */
    header {
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: var(--white);
      padding: 1rem;
      position: sticky;
      top: 0;
      z-index: 50;
      box-shadow: var(--shadow-lg);
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .hotel-logo {
      width: 50px;
      height: 50px;
      object-fit: contain;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.1);
      padding: 5px;
    }

    .header-text {
      flex: 1;
    }

    h1 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .sub {
      font-size: 0.875rem;
      opacity: 0.9;
    }

    /* Main Layout */
    .container {
      max-width: 1200px;
      margin: 1.5rem auto;
      padding: 0 1rem;
    }

    /* Search & Filter */
    .search-section {
      background: var(--white);
      border-radius: var(--radius);
      padding: 1.25rem;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow);
    }

    .search-box {
      position: relative;
      margin-bottom: 1rem;
    }

    .search-box input {
      width: 100%;
      padding: 0.875rem 1rem 0.875rem 3rem;
      border: 1px solid var(--gray-300);
      border-radius: var(--radius);
      font-size: 1rem;
      background: var(--white);
      transition: var(--transition);
    }

    .search-box input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.15);
    }

    .search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray-500);
    }

    .filter-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 0.75rem;
    }

    .category-filter {
      display: flex;
      gap: 0.5rem;
      overflow-x: auto;
      padding-bottom: 0.25rem;
      scrollbar-width: none;
    }

    .category-filter::-webkit-scrollbar {
      display: none;
    }

    .category-btn {
      padding: 0.5rem 1rem;
      background: var(--gray-100);
      border: 1px solid var(--gray-300);
      border-radius: 999px;
      font-size: 0.875rem;
      font-weight: 500;
      white-space: nowrap;
      cursor: pointer;
      transition: var(--transition);
    }

    .category-btn:hover {
      background: var(--gray-200);
    }

    .category-btn.active {
      background: var(--primary);
      color: var(--white);
      border-color: var(--primary);
    }

    .results-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .pill {
      background: var(--gray-200);
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .reset-btn {
      background: none;
      border: 1px solid var(--gray-300);
      padding: 0.5rem 0.875rem;
      border-radius: var(--radius);
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
    }

    .reset-btn:hover {
      background: var(--gray-100);
    }

    /* Channel Grid */
    .channel-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1rem;
    }

    .channel-card {
      background: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .channel-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .channel-header {
      background: var(--primary);
      color: var(--white);
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .channel-number {
      font-weight: 700;
      font-size: 1.1rem;
      min-width: 40px;
    }

    .channel-name {
      font-weight: 600;
      font-size: 1rem;
    }

    .channel-body {
      padding: 1rem;
    }

    .channel-category {
      display: inline-block;
      background: var(--gray-100);
      color: var(--gray-700);
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 500;
      margin-bottom: 0.75rem;
    }

    .channel-description {
      color: var(--gray-600);
      font-size: 0.875rem;
      line-height: 1.5;
    }

    /* Footer */
    footer {
      background: var(--primary);
      color: var(--white);
      padding: 2rem 1rem;
      margin-top: 3rem;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
    }

    .footer-logo {
      width: 80px;
      height: 80px;
      object-fit: contain;
      margin: 0 auto 1rem;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.1);
      padding: 5px;
    }

    .address {
      margin-bottom: 1rem;
      font-size: 0.9rem;
    }

    .address p {
      margin: 0.25rem 0;
    }

    .copyright {
      font-size: 0.8rem;
      opacity: 0.8;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .channel-grid {
        grid-template-columns: 1fr;
      }
      
      .filter-controls {
        flex-direction: column;
        align-items: stretch;
      }
      
      .category-filter {
        order: 2;
      }
      
      .results-info {
        order: 1;
        justify-content: space-between;
      }
    }

    @media (max-width: 480px) {
      .header-content {
        flex-direction: column;
        text-align: center;
        gap: 0.5rem;
      }
      
      .hotel-logo {
        width: 40px;
        height: 40px;
      }
      
      h1 {
        font-size: 1.1rem;
      }
    }

    /* Utilities */
    .hidden {
      display: none;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Loading animation */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem;
      grid-column: 1 / -1;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid var(--gray-200);
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <header role="banner">
    <div class="header-content">
      <img src="logo.png" alt="Comfort Suites Logo" class="hotel-logo" loading="lazy" />
      <div class="header-text">
        <h1>Comfort Suites – TV Channel Guide</h1>
        <p class="sub">Find your channel fast, on any device.</p>
      </div>
    </div>
  </header>

  <main class="container" role="main">
    <section class="search-section" aria-label="Search and filter channels">
      <div class="search-box">
        <i class="fas fa-search search-icon" aria-hidden="true"></i>
        <label for="searchInput" class="sr-only">Search channels</label>
        <input 
          id="searchInput" 
          type="search" 
          placeholder="Search channels, names, categories…" 
          inputmode="search" 
          autocomplete="off" 
          aria-describedby="resultCount"
        />
      </div>

      <div class="filter-controls">
        <div class="category-filter" id="categoryFilter" role="tablist" aria-label="Filter by category">
          <!-- Category buttons will be injected here -->
        </div>
        
        <div class="results-info">
          <span class="pill" id="resultCount">Loading…</span>
          <button class="reset-btn" id="resetBtn" type="button">
            Reset Filters
          </button>
        </div>
      </div>
    </section>

    <section class="channel-grid" id="channelGrid" aria-label="Channel lineup">
      <div class="loading">
        <div class="spinner" aria-hidden="true"></div>
        <span class="sr-only">Loading channels...</span>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="footer-content">
      <img src="logo.png" alt="Comfort Suites Logo" class="footer-logo" loading="lazy" />
      <div class="address">
        <p><i class="fas fa-map-marker-alt" aria-hidden="true"></i> 121 Raydo Circle, Springfield, OH, 45506, US</p>
        <p><i class="fas fa-phone" aria-hidden="true"></i> <a href="tel:+19373220707" style="color:#fff; text-decoration:underline"> (937) 322-0707</a></p>
      </div>
      <p class="copyright">© 2025 Comfort Suites Springfield, Ohio. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // --- CSV DATA (unchanged) ---
    const csvData = `channel,name,category,description
3,GUIDELO,Guide,Interactive channel guide for navigating TV services.
6,ABC,Entertainment,National network offering dramas, comedies, news, and reality shows.
7,ABC2,Entertainment,Secondary ABC channel with additional programming and local content.
8,CBS,Entertainment,Features dramas, sitcoms, news, and sports events.
10,FOX,Entertainment,Provides a mix of dramas, reality TV, sports, and news.
12,NBC,Entertainment,Offers popular shows, sports, and national news broadcasts.
13,NBC2,Entertainment,Secondary NBC channel with varied programming and local focus.
14,CW,Entertainment,Airs youth-oriented dramas, comedies, and reality shows.
15,CW2,Entertainment,Additional CW channel with similar programming and specials.
16,PBS,Educational,Public broadcasting with educational, cultural, and documentary programs.
17,PBS2,Educational,Secondary PBS channel with more educational content and kids' shows.
36,ION,Entertainment,Features syndicated shows, movies, and original dramas.
37,METV,Entertainment,Classic TV network with retro shows and nostalgic programming.
38,MYNET,Entertainment,Offers syndicated series, sports, and movies.
41,TELEM,International,Spanish-language network with telenovelas, news, and sports.
42,UNIMAS,International,Spanish-language channel with movies, sports, and dramas.
43,UNV,International,Spanish-language network with entertainment and news.
44,DYSTR,Entertainment,Daystar provides Christian programming and inspirational content.
45,TBN,Religious,Christian network with sermons, talk shows, and family-friendly content.
51,RSN,Sports,Regional sports network covering local teams and events.
52,RSN,Sports,Additional regional sports channel for local games and analysis.
57,GUIDED1,Guide,Additional interactive channel guide service.
58,USA,Entertainment,Features dramas, comedies, and live sports events.
59,AETV,Entertainment,Reality TV and documentaries focusing on real-life stories.
60,TNT,Entertainment,Airs dramas, movies, and major sports events.
61,TBS,Entertainment,Comedy-focused channel with sitcoms and movies.
62,AMC,Movies,Features classic and contemporary films and original series.
63,DSC,Educational,Discovery Channel offers science, nature, and adventure documentaries.
64,HISTORY,Educational,Documentaries and series on historical events and figures.
65,FX,Entertainment,Original dramas, comedies, and blockbuster movies.
66,BBCA,Entertainment,British programming including dramas, comedies, and sci-fi.
67,SYFY,Entertainment,Science fiction, fantasy, and horror series and films.
68,TRUTV,Entertainment,Reality shows and comedic programming.
69,COMEDY,Entertainment,Comedy Central airs stand-up, sketches, and sitcoms.
70,PAR,Entertainment,Paramount Network offers dramas and reality shows.
71,VH1,Music,Music videos, reality shows, and pop culture programming.
72,MTV,Music,Music videos, reality TV, and youth-oriented series.
73,TVLAND,Entertainment,Classic and modern sitcoms with a nostalgic feel.
75,HALL,Movies,Heartwarming movies and family-friendly series.
76,NGC,Educational,National Geographic features wildlife and cultural documentaries.
77,APL,Educational,Animal Planet focuses on animal-related shows and documentaries.
78,SCIENCE,Educational,Science Channel explores technology, space, and innovation.
79,AHC,Educational,American Heroes Channel covers military history and stories.
80,HGTV,Lifestyle,Home and garden renovation and design shows.
81,FOOD,Lifestyle,Food Network offers cooking shows and culinary competitions.
82,TRAV,Lifestyle,Travel Channel showcases destinations and adventure travel.
83,TLC,Lifestyle,Reality shows on family, lifestyle, and personal stories.
84,BRAVO,Entertainment,Reality TV, dramas, and lifestyle programming.
85,EI,Entertainment,E! focuses on celebrity news and pop culture shows.
86,LIFE,Movies,Lifetime airs women-centric movies and dramas.
87,OWN,Lifestyle,Oprah Winfrey Network with inspirational and lifestyle content.
88,BET,Entertainment,Black Entertainment Television offers music, series, and movies.
89,OVATION,Entertainment,Arts and culture programming with films and performances.
90,CNN,News,24/7 news covering global events and politics.
91,FNC,News,Fox News Channel provides conservative news and commentary.
92,MSNBC,News,News and analysis with a progressive perspective.
93,HLN,News,Headline News offers crime stories and news updates.
94,CNBC,News,Business and financial news and talk shows.
95,FBN,News,Fox Business Network covers markets and economic news.
96,BLOOM,News,Bloomberg Television focuses on global finance and business.
97,WEATH,News,Weather Channel provides forecasts and weather news.
98,CSPAN,News,Public affairs and government proceedings coverage.
99,DISN,Kids,Disney Channel offers family-friendly shows and movies.
100,BOOM,Kids,Boomerang airs classic and new animated series.
102,UKIDS,Kids,Universal Kids provides educational and fun kids' programming.
103,NICKJR,Kids,Nick Jr. offers preschool-friendly shows and learning content.
104,NICK,Kids,Nickelodeon features animated and live-action kids' shows.
105,TOON,Kids,Cartoon Network airs animated series and movies.
106,DFC,Kids,Disney Junior provides programming for young children.
107,CMT,Music,Country Music Television with music videos and shows.
108,GACF,Lifestyle,Great American Country focuses on country lifestyle and music.
109,ESPN,Sports,Leading sports network with live events and analysis.
110,ESPN2,Sports,Secondary ESPN channel with additional sports coverage.
111,GUIDED2,Guide,Another interactive channel guide service.
112,TNF,Sports,Thursday Night Football broadcasts NFL games.
113,SEC,Sports,SEC Network covers Southeastern Conference sports.
114,FS1,Sports,Fox Sports 1 offers live sports and commentary.
115,FS2,Sports,Fox Sports 2 provides extended sports coverage.
116,MT,Music,MTV with music videos and reality programming.
117,TCM,Movies,Turner Classic Movies airs classic films.
118,HSN,Shopping,Home Shopping Network for retail and product showcases.
119,EWTN,Religious,Global Catholic network with religious programming.
120,SHOPHQ,Shopping,Shopping channel with jewelry, electronics, and more.
121,QVC,Shopping,Retail channel offering a variety of products.
122,CNNE,International,Spanish-language CNN with global news.
123,NEWSNTN,News,NewsNation provides balanced news coverage.
124,MTV2,Music,MTV2 focuses on music videos and alternative content.
125,MTVCLAS,Music,MTV Classic airs retro music videos and shows.
126,UP,Religious,Uplifting family-friendly movies and series.
128,RFDHD,Lifestyle,Rural-focused programming on farming and country life.
129,VICE,Entertainment,Documentaries and series on culture and lifestyle.
130,FYI,Lifestyle,Reality and lifestyle shows on diverse topics.
131,DEST,Lifestyle,Destination America explores American culture and travel.
132,ID,Educational,Investigation Discovery focuses on true crime stories.
133,ACUWTHR,News,AccuWeather provides detailed weather forecasts.
134,COOK,Lifestyle,Cooking Channel offers recipes and culinary shows.
135,OXYGEN,Entertainment,True crime and women-focused reality shows.
136,WE,Entertainment,WE tv offers reality shows and dramas.
137,POP,Entertainment,Pop culture-focused shows and light entertainment.
138,GSN,Entertainment,Game Show Network with classic and new game shows.
139,LOGO,Entertainment,LGBTQ+-focused programming and movies.
140,DLC,Educational,Discovery Life covers health and real-life stories.
141,BHER,Entertainment,BET Her offers content for Black women.
142,TVONE,Entertainment,Programming focused on African American culture.
143,BBCWLD,News,BBC World News delivers global news coverage.
144,NIKTON,Kids,Nicktoons airs animated Nickelodeon series.
145,TNCK,Kids,TeenNick targets teens with shows and movies.
147,MTVLIVE,Music,MTV Live broadcasts live music performances.
148,RVLT,Entertainment,Revolt focuses on hip-hop culture and music.
149,FUSE,Music,Music videos and pop culture programming.
150,INSP,Religious,Inspirational programming with family values.
151,SUNDANC,Movies,SundanceTV airs independent films and series.
154,LMN,Movies,Lifetime Movie Network with drama and thriller films.
155,IFC,Movies,Independent Film Channel showcases indie films.
156,HMM,Movies,Hallmark Movies & Mysteries with mystery films.
157,BETSOUL,Music,Soul and R&B music videos and programming.
159,BYUTV,Religious,Family-friendly content from Brigham Young University.
161,IMPCNET,Movies,Impact Network offers faith-based and family content.
162,MAGN,Lifestyle,Magnolia Network focuses on home and lifestyle shows.
163,MTVU,Music,MTV University targets college audiences with music.
164,NEWSMX,International,Newsmax provides conservative news and talk shows.
165,BIGTEN,Sports,Big Ten Network covers college sports events.
166,ACC,Sports,ACC Network focuses on Atlantic Coast Conference sports.
174,GUIDESP,Guide,Spanish-language interactive channel guide.
175,BEIN,Sports,beIN Sports covers international soccer and sports.
177,CBSSN,Sports,CBS Sports Network with college sports and analysis.
187,ESPND,International,Spanish-language ESPN with sports coverage.
189,ESPNEWS,Sports,ESPN News provides sports updates and highlights.
190,ESPNU,Sports,ESPN U focuses on college sports and events.
191,FXDEP,Sports,Fox Deportes offers Spanish-language sports.
196,GOLF,Sports,Golf Channel covers professional golf tournaments.
197,MLBN,Sports,MLB Network with baseball games and analysis.
198,MLBNSZ,Sports,MLB Network Strike Zone for live baseball highlights.
199,NBATV,Sports,NBA TV covers basketball games and news.
200,NFLNET,Sports,NFL Network with football games and analysis.
201,NFLNRZ,Sports,NFL RedZone provides live NFL game coverage.
202,NHLNET,Sports,NHL Network covers hockey games and news.
203,COWBOY,Lifestyle,Cowboy Channel focuses on rodeo and western lifestyle.
204,OUTD,Sports,Outdoor Channel covers hunting and fishing.
211,SEC2,Sports,Secondary SEC channel for additional sports coverage.
212,TENNIS,Sports,Tennis Channel covers professional tennis events.
213,TVG,Sports,TVG focuses on horse racing and betting.
214,TUDN,International,Spanish-language sports network with soccer focus.
215,WILLOW,Sports,Willow TV covers international cricket matches.`;

    // --- Utilities ---
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    function parseCSV(csv) {
      const lines = csv.trim().split('\n');
      const headers = lines[0].split(',');
      const out = [];
      for (let i = 1; i < lines.length; i++) {
        if (!lines[i]) continue;
        const cols = lines[i].split(',');
        const obj = {};
        for (let j = 0; j < headers.length; j++) {
          obj[headers[j]] = (cols[j] ?? '').trim();
        }
        out.push(obj);
      }
      return out;
    }

    // --- State ---
    let channelsData = [];
    let activeCategory = 'all';
    let debounceId = null;

    // --- Rendering ---
    function displayChannels(list) {
      const grid = $('#channelGrid');
      
      if (!list.length) {
        grid.innerHTML = `
          <div class="no-results" style="grid-column: 1 / -1; text-align: center; padding: 2rem;">
            <i class="fas fa-tv" style="font-size: 3rem; color: var(--gray-400); margin-bottom: 1rem;"></i>
            <h3 style="color: var(--gray-600); margin-bottom: 0.5rem;">No channels found</h3>
            <p style="color: var(--gray-500);">Try adjusting your search or filters</p>
          </div>
        `;
        $('#resultCount').textContent = '0 results';
        return;
      }
      
      grid.innerHTML = '';
      list.forEach(ch => {
        const card = document.createElement('div');
        card.className = 'channel-card';
        card.setAttribute('data-category', (ch.category || '').toLowerCase());
        
        card.innerHTML = `
          <div class="channel-header">
            <div class="channel-number">${ch.channel}</div>
            <div class="channel-name">${ch.name}</div>
          </div>
          <div class="channel-body">
            <span class="channel-category">${ch.category}</span>
            <p class="channel-description">${ch.description}</p>
          </div>
        `;
        
        grid.appendChild(card);
      });
      
      $('#resultCount').textContent = `${list.length} channel${list.length === 1 ? '' : 's'}`;
    }

    function buildCategoryChips(list) {
      const cats = Array.from(new Set(list.map(c => c.category))).sort((a, b) => a.localeCompare(b));
      const wrap = $('#categoryFilter');
      wrap.innerHTML = '';

      // All chip
      const allBtn = document.createElement('button');
      allBtn.className = 'category-btn active';
      allBtn.type = 'button';
      allBtn.setAttribute('role', 'tab');
      allBtn.setAttribute('aria-selected', 'true');
      allBtn.textContent = 'All';
      allBtn.addEventListener('click', () => selectCategory('all', allBtn));
      wrap.appendChild(allBtn);

      cats.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'category-btn';
        btn.type = 'button';
        btn.setAttribute('role', 'tab');
        btn.setAttribute('aria-selected', 'false');
        btn.textContent = cat;
        btn.addEventListener('click', () => selectCategory(cat.toLowerCase(), btn));
        wrap.appendChild(btn);
      });
    }

    function selectCategory(cat, btn) {
      activeCategory = cat;
      $$('.category-btn').forEach(b => {
        b.classList.toggle('active', b === btn);
        b.setAttribute('aria-selected', b === btn ? 'true' : 'false');
      });
      applyFilters();
    }

    function applyFilters() {
      const term = ($('#searchInput').value || '').trim().toLowerCase();
      const filtered = channelsData.filter(ch => {
        const inCat = (activeCategory === 'all') || (ch.category || '').toLowerCase() === activeCategory;
        if (!inCat) return false;
        if (!term) return true;
        return (ch.channel + ' ' + ch.name + ' ' + ch.category + ' ' + ch.description).toLowerCase().includes(term);
      });
      displayChannels(filtered);
    }

    // --- Init ---
    document.addEventListener('DOMContentLoaded', () => {
      channelsData = parseCSV(csvData);
      buildCategoryChips(channelsData);
      displayChannels(channelsData);

      // Search events (debounced)
      const input = $('#searchInput');
      input.addEventListener('input', () => {
        clearTimeout(debounceId);
        debounceId = setTimeout(applyFilters, 120);
      });
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          input.value = '';
          applyFilters();
          input.blur();
        }
      });

      // Reset
      $('#resetBtn').addEventListener('click', () => {
        $('#searchInput').value = '';
        activeCategory = 'all';
        const chips = $$('.category-btn');
        chips.forEach(b => {
          const isAll = b.textContent.trim().toLowerCase() === 'all';
          b.classList.toggle('active', isAll);
          b.setAttribute('aria-selected', isAll ? 'true' : 'false');
        });
        applyFilters();
      }, { passive: true });
    });
  </script>
</body>
</html>